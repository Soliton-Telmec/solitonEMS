{%extends 'solitonems/base.html'%}
{% load humanize %}
{% load static %}
{% block page_title %}
Overtime Application
{% endblock %}

{%block content%}
<div class="content">
    <div class="container-fluid">
        <button class="btn btn-danger" data-toggle="modal"
                data-target="#modal_apply_overtime">Apply for overtime</button>
        <div class="card animated fadeInUp">
            <div class="card-body">
                {% if messages %}
                {% for message in messages %}
                <div class="alert alert-warning">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                    {{ message }}
                </div>
                {% endfor %}
                {% endif %}
                <h3>Recent Applications</h3>
                <div class="table-responsive">
                    <table class="table">
                        <thead class="thead-dark">
                        <th>ID</th>
                        <th>Date</th>
                        <th>Start time</th>
                        <th>End time</th>
                        <th>Description</th>
                        <th>Approval Status</th>
                        </thead>
                        {%for recent_application in recent_applications%}
                        <tr>
                            <td>{{recent_application.id}}</td>
                            <td>{{recent_application.date}}</td>
                            <td>{{recent_application.start_time}}</td>
                            <td>{{recent_application.end_time}}</td>
                            <td>{{recent_application.description}}</td>
                            <td>{{recent_application.status}}</td>
                        </tr>
                        {%endfor%}
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal: modalApplyOvertime -->
<div class="modal fade" id="modal_apply_overtime" tabindex="-1" role="dialog"
     aria-hidden="true" style="overflow-y: auto !important">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <!-- Header -->
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Overtime Application</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">Ã—</span>
                </button>
            </div>
            <!-- Body -->
            <div class="modal-body">
                <form method="post" action="{%url 'apply_for_overtime_page'%}">
                    {%csrf_token%}
                    <div class="form-group">
                        <label>Start Time</label>
                        <input class="form-control" type="datetime-local" name="start_time" required/>
                    </div>
                    <div class="form-group">
                        <label>End Time</label>
                        <input class="form-control" type="datetime-local" name="end_time" required/>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea class="form-control" name="description"></textarea>
                    </div>

                    <input type="submit" value="submit" class="btn btn-danger"/>
                </form>
            </div>
        </div>
    </div>
</div>
{%endblock%}